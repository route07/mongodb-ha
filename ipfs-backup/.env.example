# MongoDB Connection (connect to secondary for backups)
MONGODB_URI=mongodb://username:password@mongodb-secondary-1:27017/?replicaSet=rs0&tls=true&tlsCAFile=/etc/mongo/ssl/ca.crt&tlsAllowInvalidCertificates=true&authSource=admin&readPreference=secondary

# Encryption
# Generate a 256-bit key: openssl rand -base64 32
BACKUP_ENCRYPTION_KEY=your-256-bit-base64-encoded-key-here
ENCRYPTION_KEY_DERIVATION_ITERATIONS=100000

# IPFS Configuration
IPFS_NODE_1_URL=http://ipfs-node-1.internal:5001
IPFS_NODE_2_URL=http://ipfs-node-2.internal:5001
IPFS_REPLICATION_FACTOR=2

# Backup Schedule (cron format)
FULL_BACKUP_SCHEDULE=0 2 * * 0
INCREMENTAL_BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90

# Local Storage (keep backups locally before IPFS)
BACKUP_LOCAL_RETENTION_DAYS=7
BACKUP_TEMP_DIR=/tmp/mongodb-backups
BACKUP_STORAGE_DIR=/data/backups

# Notification Webhook
WEBHOOK_URL=https://your-webhook-url.com/backup-notifications
WEBHOOK_ENABLED=true

# Logging
LOG_LEVEL=info
LOG_DIR=/var/log/backups

# MongoDB Tools (if not in PATH)
MONGODUMP_PATH=mongodump
MONGORESTORE_PATH=mongorestore
